# TravelMuse AI (Tabi) — Product Document

> AI-Powered Travel Content Platform: Video → Actionable Travel Guide
>
> Last Updated: 2026-02-25 | Audience: CPO / Product Leadership

---

## 1. Product Vision

TravelMuse AI（产品名：Tabi）致力于成为全球旅游创作者的**"内容操作系统"**——让每一位旅游 KOL / 红人都能在 5 分钟内，将 YouTube 视频转化为可直接使用的精美旅行指南。

**一句话定位：** AI 驱动的"视频 → 可操作旅游指南"转化引擎。

---

## 2. Problem Statement

### 2.1 用户痛点

| 痛点 | 描述 | 影响 |
|------|------|------|
| 内容变现难 | 视频中旅游攻略信息分散，粉丝难以直接引用 | 红人无法将内容转化为可售卖产品 |
| 制作成本高 | 手动整理视频为图文攻略需 5-10 小时 | 大量潜在内容资产被闲置 |
| 粉丝体验差 | 粉丝需反复看视频记录地址、美食、路线 | 内容消费效率低，转化率差 |
| 工具缺失 | 市场无专门的"视频转旅游内容"工具 | 红人被迫使用通用工具拼凑流程 |

### 2.2 市场机会

| 指标 | 数据 |
|------|------|
| 全球创作者经济规模 | > $1,000 亿 |
| 全球活跃旅游创作者 | > 200 万人 |
| 具备变现意识的中腰以上红人 | 30-50 万人 |
| 全球旅游工具类 TAM | $5-8 亿 |

---

## 3. Product Overview

### 3.1 核心工作流（End-to-End）

```
粘贴 YouTube 链接 → AI 自动解析视频 → 结构化旅行内容 → 地理编码
    → 智能配图 → 生成精美 HTML 手册 → 编辑/预览 → 分享/下载
```

全流程由 **6 步 AI Agent Pipeline** 自动编排，用户仅需输入链接并选择风格，约 3-5 分钟即可获得完整旅行手册。

### 3.2 产品架构概览

```
┌─────────────────────────────────────────────────────────┐
│                      Frontend (Next.js)                  │
│  ┌──────────┐  ┌───────────────────┐  ┌──────────────┐  │
│  │ Session   │  │  Block Editor /   │  │  Chat Panel  │  │
│  │ Sidebar   │  │  HTML Preview     │  │  (Streaming) │  │
│  └──────────┘  └───────────────────┘  └──────────────┘  │
├─────────────────────────────────────────────────────────┤
│                   AI Agent Orchestration                  │
│  parse → crawl → extract → geocode → image → handbook   │
├─────────────────────────────────────────────────────────┤
│  DeepSeek │ Gemini │ Imagen │ Apify │ Unsplash │ OSM    │
├─────────────────────────────────────────────────────────┤
│              PostgreSQL + Prisma ORM                     │
└─────────────────────────────────────────────────────────┘
```

---

## 4. Feature Matrix — 当前实现 vs 商业计划

### 4.1 核心功能对照

| 功能模块 | 商业计划（规划） | 当前实现状态 | 备注 |
|----------|-----------------|-------------|------|
| YouTube 视频解析 | 支持单个/多个视频 | ✅ 已实现 | Apify Actor 抓取，含字幕提取 |
| 智能内容结构化 | 提取地点、美食、住宿、交通等 | ✅ 已实现 | 5 种 Block 类型：food/spot/transport/shopping/other |
| 可视化编辑器 | Gamma 式拖拽编辑 | ⚠️ 部分实现 | Block Editor（字段编辑），尚无拖拽排版 |
| 多格式输出 | 网页、PDF、嵌入式链接 | ⚠️ 部分实现 | HTML 手册 + 永久链接，PDF 导出待开发 |
| Google Maps 导入 | 一键生成可导航地图 | ⚠️ 部分实现 | 已有坐标数据 + CSV 导出，一键导入待开发 |
| 手册风格定制 | — | ✅ 已实现 | 5 种风格（Minimal Tokyo / Warm Analog / Brutalist / Dreamy Soft / Auto） |
| 图片搜索 | — | ✅ 已实现 | Unsplash 真实照片搜索 |
| AI 图片生成 | — | ✅ 已实现 | Google Imagen 生成，含模型回退 |
| 实时 AI 进度展示 | — | ✅ 已实现 | 流式聊天面板，工具执行可视化 |
| 自动保存 + 断点恢复 | — | ✅ 已实现 | 900ms 防抖自动保存，中断后可恢复 |

### 4.2 待开发功能（Gap Analysis）

| 优先级 | 功能 | 商业价值 | 开发复杂度 |
|--------|------|----------|-----------|
| **P0** | PDF 导出 | 付费转化核心功能 | 中 |
| **P0** | Google Maps 一键导入 | 核心差异化卖点 | 中 |
| **P1** | Gamma 式拖拽编辑器 | 提升编辑体验，Pro 版核心功能 | 高 |
| **P1** | 多视频合并 | Pro/Max 版付费功能 | 中 |
| **P1** | 用户认证系统 | SaaS 付费体系前提 | 中 |
| **P1** | 订阅计费系统 | 营收基础设施 | 中 |
| **P2** | 自定义品牌/模板 | Max 版差异化 | 中 |
| **P2** | 联盟营销链接嵌入 | 额外收入渠道 | 低 |
| **P2** | B2B API 开放 | 第二增长曲线 | 高 |
| **P3** | 多语言支持 | 扩大目标市场 | 中 |
| **P3** | 数据分析面板 | 红人内容洞察 | 中 |

---

## 5. Detailed Feature Breakdown

### 5.1 AI Agent Pipeline（已实现）

系统采用 **严格有序的 6 步 Agent 编排**，每步由专用 AI 模型驱动：

| Step | 工具 | 功能 | AI 模型 | 外部服务 |
|------|------|------|---------|----------|
| 1 | `parse_youtube_input` | 解析用户输入，提取 YouTube URL | — | — |
| 2 | `crawl_youtube_videos` | 抓取视频元数据 + 字幕 | — | Apify |
| 3 | `build_travel_blocks` | 结构化提取旅行内容块 | Gemini 2.5 Pro | — |
| 4 | `resolve_spot_coordinates` | 地点地理编码 | Gemini 2.5 Flash | Nominatim |
| 5 | `search_image` / `generate_image` | 图片搜索或 AI 生成 | Gemini 2.5 Flash | Unsplash / Imagen |
| 6 | `generate_handbook_html` | 生成完整 HTML 手册 | Gemini 3 Pro Preview | — |

**关键技术特性：**
- **模型回退策略：** 每个任务配置主模型 + 回退模型，自动切换
- **Schema 校验：** Zod 强类型验证 + 业务规则（4-16 blocks，唯一 ID 等）
- **中断恢复：** 每步完成后持久化快照，可从失败步骤恢复
- **最大步数限制：** 9 步，防止无限循环

### 5.2 内容结构化（Travel Blocks）

AI 从视频中提取的结构化内容块：

```
TravelBlock {
  block_id:     唯一标识
  type:         food | spot | transport | shopping | other
  title:        标题
  description:  详细描述
  location:     { lat, lng }  // 地理编码后填充
  smart_tags:   智能标签数组
}
```

### 5.3 手册风格系统

| 风格 | 设计语言 | 目标用户场景 |
|------|----------|-------------|
| Minimal Tokyo | 日式极简，大量留白 | 高端旅行、日本目的地 |
| Warm Analog | 复古杂志质感，暖色调 | 人文旅行、欧洲目的地 |
| Brutalist | 高对比度，粗体几何 | 都市探索、潮流内容 |
| Dreamy Soft | 柔和渐变，空灵优雅 | 度假、海岛、自然风光 |
| Let Tabi Decide | AI 自动匹配最佳风格 | 默认选项 |

### 5.4 三栏式产品界面

```
┌────────┬──────────────────────────┬─────────────────┐
│        │                          │                 │
│Session │   Block Editor           │   Chat Panel    │
│Sidebar │     or                   │   (AI 进度)     │
│(280px) │   HTML Preview           │   (300-600px)   │
│        │                          │   可拖拽宽度    │
│        │   [Blocks] [HTML] tabs   │                 │
│        │                          │                 │
│ 历史   │   Desktop/Mobile 切换    │   工具执行卡片  │
│ 列表   │   下载 / 分享            │   状态徽章      │
│        │                          │                 │
└────────┴──────────────────────────┴─────────────────┘
```

---

## 6. Business Model Alignment

### 6.1 SaaS 订阅体系（规划）

| 功能/套餐 | Free 免费版 | Pro 专业版 ($19/月) | Max 旗舰版 ($49/月) |
|-----------|-----------|-------------------|-------------------|
| 视频解析次数 | 3 次/月 | 30 次/月 | 无限制 |
| 页面/PDF 导出 | 带水印 | 无水印 | 无水印 + 自定义品牌 |
| Google Maps 导入 | ✔ | ✔ | ✔ |
| 自定义模板 | ✖ | 基础模板 | 高级模板 + 自定义 |
| 多视频合并 | ✖ | ✔ | ✔ |
| 优先支持 | ✖ | ✖ | ✔ 专属客服 |

**当前状态：** 未实现付费体系，所有功能对所有用户开放（MVP 阶段）。

### 6.2 B2B API 服务（规划）

| API | 功能 | 目标客户 |
|-----|------|----------|
| 视频解析 API | 输入视频链接，输出结构化旅游信息 | 中小旅游平台 |
| 线路生成 API | 自动编排旅游线路 | OTA 平台 |
| 地图数据 API | 坐标数据 + 地图嵌入组件 | 旅游局 / DMO |
| 内容渲染 API | 白标旅游指南页面 | 酒店集团 / 航司 |

**当前状态：** Agent Pipeline 已具备 API 化基础，需封装独立 API 层 + 鉴权。

### 6.3 收入预测

| 指标 | Year 1 | Year 2 | Year 3 |
|------|--------|--------|--------|
| 注册用户 | 5,000 | 20,000 | 50,000 |
| 付费用户 | 400 | 1,920 | 6,000 |
| 付费转化率 | 8% | 9.6% | 12% |
| C 端 ARR | $120K | $576K | $1.8M |
| B2B ARR | — | $100K | $500K |
| **综合 ARR** | **$120K** | **$676K** | **$2.3M** |

---

## 7. Competitive Positioning

| 维度 | TravelMuse AI (Tabi) | Gamma | Notion AI | Canva |
|------|---------------------|-------|-----------|-------|
| 旅游场景专注 | ✅ 原生专注 | ❌ 通用 | ❌ 通用 | ❌ 通用 |
| YouTube 视频解析 | ✅ 核心能力 | ❌ | ❌ | ❌ |
| 地理编码 + 地图 | ✅ 自动化 | ❌ | ❌ | ❌ |
| AI 图片生成 | ✅ Imagen + Unsplash | ❌ | ❌ | ✅ 通用 |
| 内容编辑器 | ⚠️ 基础版 | ✅ 优秀 | ✅ 优秀 | ✅ 优秀 |
| 红人工具链 | ✅ 原生支持 | ❌ | ❌ | ⚠️ 部分 |
| 多格式输出 | ⚠️ HTML only | ✅ | ✅ | ✅ |

**核心壁垒：** 旅游垂直场景深耕 + 端到端 AI Agent Pipeline + 地图集成能力。

---

## 8. Technical Architecture Summary

### 8.1 技术栈

| 层级 | 技术选型 | 选型理由 |
|------|----------|----------|
| 前端 | Next.js 16 + React 19 + TypeScript | SSR + App Router，开发效率高 |
| 样式 | Tailwind CSS v4 | 快速迭代，设计系统友好 |
| 状态管理 | Zustand | 轻量，适合中等复杂度 |
| 后端 | Next.js API Routes | 全栈统一，部署简单 |
| 数据库 | PostgreSQL + Prisma | 类型安全 ORM，生态成熟 |
| AI 编排 | Vercel AI SDK + 自研 Agent 层 | 流式输出，Tool Calling 原生支持 |
| 聊天 LLM | DeepSeek Chat | 性价比高，中文能力强 |
| 结构化/生成 LLM | Google Gemini 系列 | JSON 提取能力强，多模态 |
| 图片生成 | Google Imagen | 质量高，旅游场景效果好 |

### 8.2 数据模型

```
Session  ──┬── ChatMessage[]     (对话消息)
            ├── SessionStep[]     (工具执行步骤)
            └── SessionState      (状态快照: blocks, images, html)
```

### 8.3 可靠性设计

- **模型回退：** 每个 AI 任务配置 Primary + Fallback 模型
- **断点恢复：** 每步执行后持久化，支持从失败步骤恢复
- **自动保存：** 编辑器 900ms 防抖，避免数据丢失
- **Schema 校验：** 全链路 Zod 类型验证

---

## 9. Go-to-Market Strategy

### Phase 1: 种子用户获取（0-6 个月）
- 邀请 50-100 位旅游红人内测
- 通过红人社群和旅游博主论坛小范围推广
- 产出案例研究和使用教程

### Phase 2: 增长加速（6-18 个月）
- 启动"红人合作伙伴计划"，推荐奖励免费时长
- 与 YouTube 旅游频道和旅游媒体建立合作
- Product Hunt 发布 + 海外社交媒体营销

### Phase 3: 规模化扩张（18 个月+）
- 正式发布 B2B API
- 拓展至美食、生活方式等垂直领域
- 深化企业客户（旅游局、酒店集团、航司）

---

## 10. Milestones & Roadmap

| 时间节点 | 里程碑 | 状态 |
|----------|--------|------|
| Q2 2025 | MVP 上线，核心 Pipeline 完成 | ✅ 已完成 |
| Q3 2025 | 50 位种子红人招募 + 产品迭代 | 🔄 进行中 |
| Q4 2025 | 正式公开发布，Product Hunt 上线 | 📋 计划中 |
| Q1 2026 | 用户突破 5,000，开启种子轮融资 | 📋 计划中 |
| Q2 2026 | 发布 Pro/Max 付费版本 | 📋 计划中 |
| Q3 2026 | 发布 B2B API，获取首批企业客户 | 📋 计划中 |
| Q4 2026 | 综合 ARR 突破 $120K | 📋 计划中 |

### 近期产品优先级（建议）

```
Now ──────────────────────────────────────────────── Later

[PDF 导出]  [Maps 导入]  [用户认证]  [付费体系]  [拖拽编辑器]  [B2B API]
   P0           P0          P1         P1          P1           P2
```

---

## 11. Key Metrics to Track

| 类别 | 指标 | 当前基线 | 目标 |
|------|------|----------|------|
| **Activation** | 视频 → 手册完成率 | 待测 | > 80% |
| **Quality** | 手册生成成功率 | 待测 | > 95% |
| **Performance** | 端到端生成时间 | ~3-5 min | < 3 min |
| **Engagement** | 手册编辑率 | 待测 | > 40% |
| **Retention** | 7 日留存 | 待测 | > 30% |
| **Conversion** | Free → Pro 转化率 | — | 8%+ |
| **Revenue** | MRR | $0 | Year 1: $10K/月 |

---

## 12. Risks & Mitigations

| 风险 | 影响 | 缓解措施 |
|------|------|----------|
| YouTube API / Apify 政策变更 | 视频抓取中断 | 多数据源适配（Apify + 备用爬虫） |
| LLM 成本上升 | 单位经济不可持续 | 模型降级策略 + 缓存机制 + 本地模型评估 |
| 编辑器体验不足 | 用户留存差 | P1 优先级升级为 Gamma 式编辑器 |
| 竞品跟进 | 差异化被削弱 | 深耕旅游垂直 + 地图能力壁垒 + 数据飞轮 |
| B2B 销售周期长 | 收入增长慢 | C 端先行，B2B 作为第二曲线 |

---

*本文档结合 TravelMuse AI 商业计划书与实际代码实现编写，旨在为产品决策提供全面参考。*
