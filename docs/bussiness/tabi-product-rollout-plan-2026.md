# Tabi 产品推进计划（敏捷版：内测 -> 红人 -> B 端 Token）

> 版本：v2026.03.1  
> 日期：2026-02-27

---

## 1. 一句话目标

在不开放注册登录的前提下，先用内部账号完成稳定性与样本库建设，再开放红人灰度，最终完成 gojapan Token 售卖与分发闭环。

---

## 2. 规划原则（敏捷）

1. 阶段 1（内测）采用固定计划，保证确定性交付。
2. 阶段 2/3 采用滚动计划，每 2 周一个 Sprint，按数据调整目标和范围。
3. 优先级规则：主链路可用性 > 样本产量 > 新功能探索。
4. 不做大而全路线图，只承诺当前阶段可落地的事项。

---

## 3. 阶段总览（滚动窗口）

| 阶段 | 时间窗口 | 计划方式 | 核心目标 | 阶段退出条件 |
|---|---|---|---|---|
| 阶段 1：内部内测冲刺 | 2026-03-02 ~ 2026-03-15（2 周） | 固定计划 | 内部账号稳定可用，边生成 HTML 边修核心 bug | 连续 3 天端到端成功率 >= 80%，P0=0，样本 >= 80 篇 |
| 阶段 2：红人灰度验证 | 2026-03-16 ~ 2026-04-12（约 2 个 Sprint） | 滚动计划 | 邀请红人真实使用，验证持续使用与发布意愿 | 红人周留存达标，公开内容稳定产出，高优先级问题可控 |
| 阶段 3：gojapan B 端试点 | 2026-04-13 ~ 2026-05-24（约 3 个 Sprint） | 滚动计划 | 完成 Token 售卖与分发闭环 | 完成首个企业闭环复盘，形成可复制交付模板 |

注：阶段 2/3 的具体需求以 Sprint Planning 为准，可按真实数据调整。

---

## 4. 阶段 1：内部内测冲刺（2 周）

### 4.1 阶段目标

1. 仅内部白名单账号可用，不开放注册登录。
2. 跑通并稳定“视频 -> blocks -> 坐标 -> 图片 -> HTML 预览”主链路。
3. 快速产出可展示 HTML 样本，支撑下一阶段红人灰度。

### 4.2 范围与动作

1. 权限控制：
仅开放内部账号，关闭公开注册与公开入口。
2. 样本生产：
每天固定批量生成，建立基础样本库（目的地、玩法、路线多样化）。
3. 质量与缺陷处理：
每日 triage，优先处理阻塞主链路的 P0/P1。
4. 质检标准：
每篇 HTML 按统一清单检查结构完整性、可读性、图片匹配度、链接可用性。
5. 数据看板：
每日记录成功率、失败原因、平均耗时、样本通过率。

### 4.3 Bug 分级与处理 SLA

| 级别 | 定义 | 处理时限 | 例子 |
|---|---|---|---|
| P0 | 主流程不可用或大面积失败 | 当天修复 | 无法生成 HTML、预览接口不可用 |
| P1 | 主流程可走但严重影响质量/效率 | 48 小时内修复 | 图片频繁失败、关键步骤高概率报错 |
| P2 | 局部体验问题，不阻塞主流程 | 周内处理 | 展示细节、次要交互问题 |

### 4.4 两周节奏

| 周次 | 重点 | 交付物 |
|---|---|---|
| 第 1 周（03-02 ~ 03-08） | 先止血：主链路稳定、P0/P1 快速收敛 | 白名单内测上线、缺陷看板、首批样本 |
| 第 2 周（03-09 ~ 03-15） | 冲量：提高样本产出并稳住质量 | 样本库 >= 80 篇、内测复盘、红人灰度放行结论 |

### 4.5 阶段 KPI 与放行门槛

1. 连续 3 天端到端成功率 >= 80%。
2. 平均生成时长 <= 6 分钟。
3. P0 未关闭数 = 0。
4. 累计可展示 HTML 样本 >= 80 篇。
5. 样本首次质检通过率 >= 65%。

---

## 5. 阶段 2：红人灰度验证（滚动 2 个 Sprint）

### 5.1 阶段目标

1. 邀请 5-10 位红人试用，验证“是否愿意持续使用”。
2. 验证公开内容供给能力与协作流程。
3. 为 B 端售卖准备真实案例与数据素材。

### 5.2 核心动作

1. 采用邀请制白名单，分批放量，避免一次性扩容。
2. 提供最小可用 onboarding（使用说明、常见失败兜底）。
3. 每周复盘红人行为数据：创建数、完成率、复用率、公开率。
4. 建立红人反馈闭环：问题收集 -> 优先级评估 -> 版本发布 -> 回访。

### 5.3 Sprint 交付建议

| Sprint | 周期 | 目标 | 核心交付 |
|---|---|---|---|
| Sprint A | 03-16 ~ 03-29 | 跑通首批红人真实使用 | 邀请名单、首轮使用反馈、问题收敛清单 |
| Sprint B | 03-30 ~ 04-12 | 提升留存与公开发布稳定性 | 留存改进项、公开样本增长、B 端演示素材包 |

### 5.4 阶段 KPI

1. 红人周留存（WAU Retention）达到目标（建议 >= 40%）。
2. 每周稳定新增公开 HandBook。
3. 红人侧高优先级问题在承诺时限内关闭。

---

## 6. 阶段 3：gojapan B 端试点（滚动 3 个 Sprint）

### 6.1 阶段目标

1. 完成 gojapan Token 采购与分发闭环。
2. 企业端用户可将额度分发给普通用户使用工具。
3. 跑出可复制的企业交付与复购模型。

### 6.2 核心动作

1. 明确 Token 计费口径：
按次生成、按套餐、或混合计费，先确定一个试点版本。
2. 打通企业分发流程：
采购 -> 分配 -> 使用 -> 消耗统计 -> 对账。
3. 建立 B 端运营机制：
月度使用报告、异常预警、客户成功回访。
4. 输出商务标准件：
报价模板、交付说明、试点复盘模板。

### 6.3 阶段 KPI

1. 完成首个 gojapan 采购与分发闭环。
2. Token 消耗数据可追踪、可审计。
3. 形成下一家 B 端可复用的标准化方案。

---

## 7. 专项研发路线（并行推进）

### 7.1 专项 A：Tool Flow 解耦与 HTML 多样化

背景问题：
当前 tool 流程强关联，生成路径过于固定，易导致 HTML 风格和结构同质化。

目标：
让 `streamText` 在多个候选工具链中动态选择路径，最终都输出可用 HTML，但呈现更有差异性。

阶段动作：
1. 扩充工具集（按能力分层）：
事实提取、行程组织、文案风格化、HTML 渲染可分别由不同 tool 负责。
2. 路由机制：
保留必选步骤（输入解析、基础校验），把内容组织和渲染改为候选 tool 路由。
3. 质量守门：
无论走哪条路径，统一通过 HTML 结构校验、链接校验、可读性校验。

建议 KPI：
1. HTML 模板集中度下降（例如 Top1 模板占比下降）。
2. 人工评审“差异化可感知”通过率提升。
3. 不牺牲主链路成功率（保持 >= 当前基线）。

### 7.2 专项 B：Blocks 编辑模式演进（含 HTML 拖拽可行性）

背景问题：
后续可能取消 block 编辑，转向 HTML 直接拖拽；但该技术实现复杂，需先验证可行性和性价比。

决策思路（先探索后决策）：
1. 方案 1：保留 Blocks，为 HTML 增加可视化轻编辑（低风险）。
2. 方案 2：Hybrid，Blocks 作为数据层，HTML 层支持局部拖拽（中风险）。
3. 方案 3：纯 HTML 拖拽直编，弱化/移除 Blocks（高风险，高改造成本）。

里程碑：
1. 2 周技术 Spike：产出方案对比（复杂度、风险、性能、维护成本）。
2. POC 验证：至少验证一个真实编辑场景（如段落重排 + 图片替换）。
3. 评审决策：是否进入正式开发，以及是否保留 Blocks。

### 7.3 专项 C：Google Maps CSV 能力独立化

背景问题：
当前 CSV 导出依赖 block 解析；如果未来弱化 Blocks，需要保证该能力不丢失。

目标：
把“地点解析与导出”从 block 视图解耦为独立能力层。

阶段动作：
1. 新建统一中间数据结构（建议：`places`）并写入 `SessionState`。
2. CSV 导出改为直接读取 `places`，而非依赖 block 编辑器状态。
3. 在 HTML 视图仍保留“导出 Google Maps CSV”入口。

验收标准：
1. 即使关闭/隐藏 Blocks 视图，CSV 仍可稳定导出。
2. 导出字段与现有格式兼容（名称、地址、经纬度、备注）。
3. 导出成功率达到与当前基线一致或更高。

---

## 8. 跨阶段执行规则（避免推进失速）

1. 每天固定节奏：
上午看失败日志和 bug 优先级，晚上看样本质量和新增产量。
2. 每周固定节奏：
周一锁定 Sprint 目标，周五做质量/产量/反馈复盘。
3. 范围控制：
阶段中不做大范围重构，只做“阻塞放行目标”的优化。
4. 放行纪律：
未达到阶段退出条件，不进入下一阶段放量。

---

## 9. 当前版本决策清单（待确认）

1. 端到端成功率统计口径：首轮成功率还是重试后成功率。
2. 红人灰度首批名单与数量（建议 5-10 位）。
3. Tool 扩充首批清单与路由规则（哪些步骤固定、哪些步骤可路由）。
4. Blocks 与 HTML 拖拽路线：先走方案 1/2/3 中哪一条。
5. `places` 中间层的数据结构与负责人（用于 CSV 独立导出）。
6. gojapan Token 试点计费口径（按次 or 按套餐）。
